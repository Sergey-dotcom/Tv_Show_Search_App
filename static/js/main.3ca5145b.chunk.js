(this.webpackJsonptv_show=this.webpackJsonptv_show||[]).push([[0],{32:function(e,a,t){e.exports=t.p+"static/media/spin.b99b50f7.gif"},33:function(e,a,t){e.exports=t(63)},38:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(29),c=t.n(r),s=(t(38),t(8)),i=t(1),o=function(){return l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar__nav"},l.a.createElement("h3",{className:"nav__brand"},l.a.createElement(s.b,{to:"/"},l.a.createElement("i",{className:"fa fa-video"})," TV SHOW SEARCH")),l.a.createElement("ul",{className:"nav__links"},l.a.createElement("li",{className:"links__link"},l.a.createElement(s.b,{to:"/"},"HOME")),l.a.createElement("li",{className:"links__link"},l.a.createElement(s.b,{to:"/about"},"ABOUT"))))))},m=Object(n.createContext)(),u=t(10),E=Object(n.createContext)(),p=function(e){var a=e.type,t=e.message;return l.a.createElement("div",{className:"alert alert-".concat(a)},l.a.createElement("i",{className:"fas fa-info-circle"})," ",t)},g=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(m).searchShows,s=Object(n.useContext)(E),i=s.alert,o=s.setAlert;return l.a.createElement("div",{className:"searchbar"},i?l.a.createElement(p,{message:i.message,type:i.type}):null,l.a.createElement("form",{className:"searchbar__form"},l.a.createElement("input",{type:"text",className:"",placeholder:"Search For TV Show",value:t,onChange:function(e){return r(e.target.value)}}),l.a.createElement("button",{className:"btn btn-block",onClick:function(e){e.preventDefault(),""===t?o("Please enter something","danger"):c(t)}},"SEARCH")))},h=function(e){var a=e.image,t=e.name,n=e.rating,r=e.id;return l.a.createElement(s.b,{to:"/singleshow/".concat(r),className:"listitem"},l.a.createElement("img",{src:a,alt:t}),l.a.createElement("div",{className:"listitem__info"},l.a.createElement("h4",{className:"info__name"},t),l.a.createElement("h4",{className:"info__rating"},n)))},f=t(32),d=t.n(f),v=function(){return l.a.createElement("div",{className:"loader"},l.a.createElement("img",{src:d.a,alt:"Loading..."}))},S=function(){var e=Object(n.useContext)(m),a=e.loading,t=e.shows;return l.a.createElement("div",{className:"homepage"},l.a.createElement(g,null),a?l.a.createElement(v,null):l.a.createElement("div",{className:"homepage__list"},t.map((function(e){return l.a.createElement(h,{key:e.show.id,id:e.show.id,image:e.show.image?e.show.image.medium:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg",name:e.show.name,rating:e.show.rating.average?e.show.rating.average:"No rating"})}))))},w=function(){return l.a.createElement("div",{className:"about"},l.a.createElement("h3",{className:"about__title"},"ABOUT PAGE"),l.a.createElement("div",{className:"about__info"},l.a.createElement("p",null,"Tv Show Search App (v1.0)"),l.a.createElement("div",null,l.a.createElement("p",null,"Things learnt from app build:"),l.a.createElement("ul",null,l.a.createElement("li",null,"React (create-react-app)"),l.a.createElement("li",null,"Basic CSS & HTML"),l.a.createElement("li",null,"Axios AJAX Request"),l.a.createElement("li",null,"TVMAZE API (https://www.tvmaze.com/api)"),l.a.createElement("li",null,"React Router"),l.a.createElement("li",null,"React Context API")))))},b=function(e){var a=e.match,t=Object(n.useContext)(m),r=t.getSingleShow,c=t.singleShow,s=t.loading;Object(n.useEffect)((function(){r(a.params.id)}),[]);var i;return l.a.createElement(l.a.Fragment,null,s?l.a.createElement(v,null):l.a.createElement("div",{className:"singleshow"},l.a.createElement("img",{src:c.image?c.image.medium:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg",alt:c.name}),l.a.createElement("div",{className:"singleshow__info"},l.a.createElement("h1",null,c.name),c.genres&&c.genres.map((function(e){return l.a.createElement("span",{key:e,className:"singleshow__genre"},e)})),l.a.createElement("p",null,l.a.createElement("strong",null,"Status:")," ",c.status&&c.status),l.a.createElement("p",null,l.a.createElement("strong",null,"Rating:")," ",c.rating?c.rating.average:"No rating"),l.a.createElement("p",null,l.a.createElement("strong",null,"Offical Site:")," ",c.officalSite?l.a.createElement("a",{href:c.officalSite,target:"_blank",rel:"noopener noreferrer"},c.officalSite):"No offical site"),l.a.createElement("p",null,c.summary&&(null!==(i=c.summary)&&""!==i&&(i=i.toString()).replace(/(<([^>]+)>)/gi,""))))))},_=function(){return l.a.createElement(s.a,null,l.a.createElement(o,null),l.a.createElement("div",{className:"container"},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:S}),l.a.createElement(i.a,{exact:!0,path:"/about",component:w}),l.a.createElement(i.a,{path:"/singleshow/:id",component:b}))))},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,64)).then((function(a){var t=a.getCLS,n=a.getFID,l=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),n(e),l(e),r(e),c(e)}))},N=t(12),y=t.n(N),j=t(17),A=t(18),T=t.n(A),R=t(7),C=function(e,a){switch(a.type){case"SET_LOADING":return Object(R.a)(Object(R.a)({},e),{},{loading:!0});case"SEARCH_SHOWS":return Object(R.a)(Object(R.a)({},e),{},{shows:a.payload,loading:!1});case"SET_SINGLE_SHOW":return Object(R.a)(Object(R.a)({},e),{},{singleShow:a.payload,loading:!1});case"CLEAR_SING_SHOW":return Object(R.a)(Object(R.a)({},e),{},{singleShow:{}});default:return e}},x=function(e){var a=Object(n.useReducer)(C,{shows:[],singleShow:{},loading:!1}),t=Object(u.a)(a,2),r=t[0],c=t[1],s=function(){var e=Object(j.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_LOADING"}),e.next=3,T.a.get("http://api.tvmaze.com/search/shows?q=".concat(a));case 3:t=e.sent,n=t.data,c({type:"SEARCH_SHOWS",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_LOADING"}),e.next=3,T.a.get("https://api.tvmaze.com/shows/".concat(a));case 3:t=e.sent,n=t.data,c({type:"SET_SINGLE_SHOW",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(m.Provider,{value:{shows:r.shows,singleShow:r.singleShow,loading:r.loading,searchShows:s,getSingleShow:i,clearSingShow:function(){c({type:"CLEAR_SING_SHOW"})}}},e.children)},k=function(e,a){switch(a.type){case"SET_ALERT":return a.payload;case"REMOVE_ALERT":return null;default:return e}},L=function(e){var a=Object(n.useReducer)(k,null),t=Object(u.a)(a,2),r=t[0],c=t[1];return l.a.createElement(E.Provider,{value:{alert:r,setAlert:function(e,a){c({type:"SET_ALERT",payload:{message:e,type:a}}),setTimeout((function(){return c({type:"REMOVE_ALERT"})}),5e3)}}},e.children)};c.a.render(l.a.createElement(x,null,l.a.createElement(L,null,l.a.createElement(_,null))),document.getElementById("root")),O()}},[[33,1,2]]]);
//# sourceMappingURL=main.3ca5145b.chunk.js.map